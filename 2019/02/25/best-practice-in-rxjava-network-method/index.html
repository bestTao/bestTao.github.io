<!DOCTYPE html>
<html lang=zh>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="è¯ç”Ÿ 5 å¹´ä¹‹ä¹…çš„ RxJavaï¼Œå·²ç»ä¸åªæ˜¯ä¸€ä¸ªå¼€æºåº“ï¼Œå¯ä»¥è¯´å®ƒçš„è¯ç”Ÿæ”¹å˜äº†æˆ‘ä»¬å†™ä»£ç çš„æ–¹å¼ï¼ŒæŠŠå®ƒæ¯”ä½œã€Œç¥å…µåˆ©å™¨ã€ä¹Ÿæ¯«ä¸ä¸ºè¿‡ã€‚">
<meta name="keywords" content="RxJava,ç½‘ç»œ">
<meta property="og:type" content="article">
<meta property="og:title" content="æˆ‘ä»¬çœ¼ä¸­ RxJava å¼çš„ç½‘ç»œè¯·æ±‚">
<meta property="og:url" content="https://qiantao94.github.io/2019/02/25/best-practice-in-rxjava-network-method/index.html">
<meta property="og:site_name" content="Salama">
<meta property="og:description" content="è¯ç”Ÿ 5 å¹´ä¹‹ä¹…çš„ RxJavaï¼Œå·²ç»ä¸åªæ˜¯ä¸€ä¸ªå¼€æºåº“ï¼Œå¯ä»¥è¯´å®ƒçš„è¯ç”Ÿæ”¹å˜äº†æˆ‘ä»¬å†™ä»£ç çš„æ–¹å¼ï¼ŒæŠŠå®ƒæ¯”ä½œã€Œç¥å…µåˆ©å™¨ã€ä¹Ÿæ¯«ä¸ä¸ºè¿‡ã€‚">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://ae01.alicdn.com/kf/HTB1fapMbvjsK1Rjy1Xa762ispXai.png">
<meta property="og:image" content="https://ws1.sinaimg.cn/large/82890cf6ly1g0svkchadyj20nw0nw40x.jpg">
<meta property="og:updated_time" content="2019-03-06T02:59:32.743Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="æˆ‘ä»¬çœ¼ä¸­ RxJava å¼çš„ç½‘ç»œè¯·æ±‚">
<meta name="twitter:description" content="è¯ç”Ÿ 5 å¹´ä¹‹ä¹…çš„ RxJavaï¼Œå·²ç»ä¸åªæ˜¯ä¸€ä¸ªå¼€æºåº“ï¼Œå¯ä»¥è¯´å®ƒçš„è¯ç”Ÿæ”¹å˜äº†æˆ‘ä»¬å†™ä»£ç çš„æ–¹å¼ï¼ŒæŠŠå®ƒæ¯”ä½œã€Œç¥å…µåˆ©å™¨ã€ä¹Ÿæ¯«ä¸ä¸ºè¿‡ã€‚">
<meta name="twitter:image" content="https://ae01.alicdn.com/kf/HTB1fapMbvjsK1Rjy1Xa762ispXai.png">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>æˆ‘ä»¬çœ¼ä¸­ RxJava å¼çš„ç½‘ç»œè¯·æ±‚</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- persian styles -->
    
      <link rel="stylesheet" href="/css/rtl.css">
    
    <!-- rss -->
    
    
</head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">ä¸»é¡µ</a></li>
         
          <li><a href="/archives/">åˆ—è¡¨</a></li>
         
          <li><a href="/emmm/">ç‰¢éªš</a></li>
         
          <li><a href="/about/">æˆ‘</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        
        <li><a class="icon" href="/2018/09/03/new-api-in-gradle-3-0-and-support-library-27-1-0/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://qiantao94.github.io/2019/02/25/best-practice-in-rxjava-network-method/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://qiantao94.github.io/2019/02/25/best-practice-in-rxjava-network-method/&text=æˆ‘ä»¬çœ¼ä¸­ RxJava å¼çš„ç½‘ç»œè¯·æ±‚"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://qiantao94.github.io/2019/02/25/best-practice-in-rxjava-network-method/&title=æˆ‘ä»¬çœ¼ä¸­ RxJava å¼çš„ç½‘ç»œè¯·æ±‚"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://qiantao94.github.io/2019/02/25/best-practice-in-rxjava-network-method/&is_video=false&description=æˆ‘ä»¬çœ¼ä¸­ RxJava å¼çš„ç½‘ç»œè¯·æ±‚"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=æˆ‘ä»¬çœ¼ä¸­ RxJava å¼çš„ç½‘ç»œè¯·æ±‚&body=Check out this article: https://qiantao94.github.io/2019/02/25/best-practice-in-rxjava-network-method/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://qiantao94.github.io/2019/02/25/best-practice-in-rxjava-network-method/&title=æˆ‘ä»¬çœ¼ä¸­ RxJava å¼çš„ç½‘ç»œè¯·æ±‚"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://qiantao94.github.io/2019/02/25/best-practice-in-rxjava-network-method/&title=æˆ‘ä»¬çœ¼ä¸­ RxJava å¼çš„ç½‘ç»œè¯·æ±‚"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://qiantao94.github.io/2019/02/25/best-practice-in-rxjava-network-method/&title=æˆ‘ä»¬çœ¼ä¸­ RxJava å¼çš„ç½‘ç»œè¯·æ±‚"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://qiantao94.github.io/2019/02/25/best-practice-in-rxjava-network-method/&title=æˆ‘ä»¬çœ¼ä¸­ RxJava å¼çš„ç½‘ç»œè¯·æ±‚"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://qiantao94.github.io/2019/02/25/best-practice-in-rxjava-network-method/&name=æˆ‘ä»¬çœ¼ä¸­ RxJava å¼çš„ç½‘ç»œè¯·æ±‚&description=&lt;p&gt;è¯ç”Ÿ 5 å¹´ä¹‹ä¹…çš„ RxJavaï¼Œå·²ç»ä¸åªæ˜¯ä¸€ä¸ªå¼€æºåº“ï¼Œå¯ä»¥è¯´å®ƒçš„è¯ç”Ÿ&lt;strong&gt;æ”¹å˜äº†æˆ‘ä»¬å†™ä»£ç çš„æ–¹å¼&lt;/strong&gt;ï¼ŒæŠŠå®ƒæ¯”ä½œã€Œç¥å…µåˆ©å™¨ã€ä¹Ÿæ¯«ä¸ä¸ºè¿‡ã€‚"><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#è¿‡å»çš„ç»éªŒ"><span class="toc-number">1.</span> <span class="toc-text">è¿‡å»çš„ç»éªŒ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ"><span class="toc-number">1.1.</span> <span class="toc-text">æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#å›åˆ°-RxJava-æœ¬èº«"><span class="toc-number">2.</span> <span class="toc-text">å›åˆ° RxJava æœ¬èº«</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#æˆ‘ä»¬éœ€è¦èƒŒå‹å—ï¼Ÿ"><span class="toc-number">2.1.</span> <span class="toc-text">æˆ‘ä»¬éœ€è¦èƒŒå‹å—ï¼Ÿ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#æŠ›å‡ºå¼‚å¸¸"><span class="toc-number">3.</span> <span class="toc-text">æŠ›å‡ºå¼‚å¸¸</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#å–æ¶ˆç½‘ç»œè¯·æ±‚ä¸å†…å­˜æ³„æ¼"><span class="toc-number">4.</span> <span class="toc-text">å–æ¶ˆç½‘ç»œè¯·æ±‚ä¸å†…å­˜æ³„æ¼</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index my4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        æˆ‘ä»¬çœ¼ä¸­ RxJava å¼çš„ç½‘ç»œè¯·æ±‚
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Salama</span>
      </span>
      
    <div class="postdate">
        <time datetime="2019-02-25T11:19:44.000Z" itemprop="datePublished">2019-02-25</time>
    </div>


      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/tags/RxJava/">RxJava</a>, <a class="tag-link" href="/tags/ç½‘ç»œ/">ç½‘ç»œ</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p>è¯ç”Ÿ 5 å¹´ä¹‹ä¹…çš„ RxJavaï¼Œå·²ç»ä¸åªæ˜¯ä¸€ä¸ªå¼€æºåº“ï¼Œå¯ä»¥è¯´å®ƒçš„è¯ç”Ÿ<strong>æ”¹å˜äº†æˆ‘ä»¬å†™ä»£ç çš„æ–¹å¼</strong>ï¼ŒæŠŠå®ƒæ¯”ä½œã€Œç¥å…µåˆ©å™¨ã€ä¹Ÿæ¯«ä¸ä¸ºè¿‡ã€‚<a id="more"></a>æˆ‘ä»¬ç°åœ¨å·²ç»èƒ½çœ‹åˆ°å„å¼å„æ ·åä¸ºã€Œæœ€ä½³å®è·µã€çš„ä½¿ç”¨æ•™ç¨‹ï¼Œå¦‚æœæˆ‘ä»¬æ²¡èƒ½ç”¨å¥½è¿™æŠŠåˆ©å™¨ï¼Œä¸ä»…ä¸ä¼šå‘æŒ¥å®ƒçš„ä½œç”¨ï¼Œåè€Œä¼šä¼¤ç€æˆ‘ä»¬è‡ªå·±ã€‚</p>
<p>å›é¡¾å®ƒçš„è¯ç”ŸåŸå› ï¼Œæ˜¯ä¸ºäº†è§£å†³<strong>å›è°ƒåœ°ç‹±</strong> (callback hell) ä»¥åŠ<strong>éº»çƒ¦çš„çº¿ç¨‹åˆ‡æ¢</strong>ã€‚åœ¨ Android å¼€å‘ä¸­ï¼Œå“ªä¸ªåœ°æ–¹æœ€ä¼šå‡ºç°<strong>å¤šå±‚çš„å›è°ƒåµŒå¥—</strong>ä»¥åŠ<strong>é¢‘ç¹çš„çº¿ç¨‹åˆ‡æ¢</strong>å‘¢ï¼Ÿå¯¹ï¼æ²¡é”™ï¼æ˜¯ã€Œç½‘ç»œè¯·æ±‚ã€ã€‚æ‰€ä»¥ RxJavaã€Retrofit è¿™ä¿©å…„å¼Ÿæ€»ä¼šä¸€èµ·å‡ºç°çš„ï¼Œæˆ‘ä»¬é¡¹ç›®ä¸­å…³äº RxJava çš„ä½¿ç”¨ï¼Œä¹Ÿå‡ ä¹éƒ½å’Œç½‘ç»œè¯·æ±‚ç›¸å…³ã€‚</p>
<h2 id="è¿‡å»çš„ç»éªŒ"><a href="#è¿‡å»çš„ç»éªŒ" class="headerlink" title="è¿‡å»çš„ç»éªŒ"></a>è¿‡å»çš„ç»éªŒ</h2><p>æœ€åˆæˆ‘ä»¬å¯¹ RxJava + Retrofit çš„ä½¿ç”¨ç»éªŒéƒ½æ˜¯æ¥æºäº <a href="http://gank.io/post/56e80c2c677659311bed9841" target="_blank" rel="noopener">RxJava ä¸ Retrofit ç»“åˆçš„æœ€ä½³å®è·µ</a> è¿™ç¯‡æ–‡ç« ï¼Œç›¸ä¿¡å¤§å®¶éƒ½çœ‹è¿‡ã€‚è¿™ç¯‡æ–‡ç« ä¸­çš„åŸºæœ¬å°è£…æ€æƒ³æ˜¯ï¼š<u>è®¢é˜…æ¯ä¸ªç½‘ç»œè¯·æ±‚çš„æµï¼Œå°†æµçš„è®¢é˜…ç»“æœå†é€šè¿‡å›è°ƒçš„æ–¹å¼è¿”ç»™æµï¼ˆä¹Ÿå°±æ˜¯ç½‘ç»œè¯·æ±‚ï¼‰çš„åˆ›å»ºè€…ã€‚</u> å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//HttpMethod</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getTopMovie</span><span class="params">(<span class="keyword">final</span> ResultListener listener, <span class="keyword">int</span> start, <span class="keyword">int</span> count)</span></span>&#123;</span><br><span class="line">     movieService.getTopMovie(start, count)</span><br><span class="line">         .subscribeOn(Schedulers.io())</span><br><span class="line">         .unsubscribeOn(Schedulers.io())</span><br><span class="line">         .observeOn(AndroidSchedulers.mainThread())</span><br><span class="line">         .subscribe(<span class="keyword">new</span> Subscriber()&#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onStart</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onNext</span><span class="params">(Subject t)</span> </span>&#123;</span><br><span class="line">                 listener.onNext(t)</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onError</span><span class="params">(Throwable e)</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCompleted</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">        &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Activity</span></span><br><span class="line">HttpMethods.getInstance().getTopMovie(<span class="keyword">new</span> ResultListener()&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onNext</span><span class="params">(Subject t)</span></span>&#123;</span><br><span class="line">        <span class="comment">//handle result</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;, <span class="number">0</span>, <span class="number">10</span>)</span><br></pre></td></tr></table></figure>
<h3 id="æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ"><a href="#æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ" class="headerlink" title="æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ"></a>æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ</h3><p>è¿™ç§å°è£…æ–¹å¼ï¼Œå¯¹äºåˆæ­¥çš„ä½¿ç”¨ä»¥åŠç®€å•çš„é¡¹ç›®ï¼Œæ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚ä½†æ˜¯é‡åˆ°å¤æ‚ä¸€ç‚¹çš„ç½‘ç»œè¯·æ±‚ï¼Œå®ƒçš„æ‰©å±•æ€§å°±ä¸é‚£ä¹ˆçµæ´»äº†ï¼š</p>
<ol>
<li>å¤šä¸ªè¿ç»­çš„ç½‘ç»œè¯·æ±‚æ€ä¹ˆå†™ï¼ŸæŒ‰ç…§ä¸Šé¢çš„é‚£ç§å°è£…æ–¹å¼ï¼Œæˆ‘ä»¬æœ‰ä¸¤ç§é€‰æ‹©<ol>
<li>æ‹†è§£è¿™ä¸ªè¯·æ±‚ï¼Œåœ¨ <code>subscribe</code> ä¹‹å‰é€šè¿‡ <code>flatMap</code> å‘èµ·ç¬¬äºŒä¸ªæˆ–è€…ç¬¬ä¸‰ä¸ªç½‘ç»œè¯·æ±‚ã€‚è¿™ç§å†™æ³•è‚¯å®šä¼šå½±å“é¡¹ç›®ä¸­å·²æœ‰çš„å¤–éƒ¨è°ƒç”¨ã€‚</li>
<li>åœ¨ <code>onNext</code> ä¸­å‘èµ·ç¬¬äºŒä¸ªè¯·æ±‚ï¼Œå†åœ¨ç¬¬äºŒä¸ªç½‘ç»œè¯·æ±‚çš„ <code>onNext</code> ä¸­å‘èµ·ç¬¬ä¸‰ä¸ªç½‘ç»œè¯·æ±‚â€¦â€¦è¿™ä¸€å±‚åˆä¸€å±‚çš„å›è°ƒåµŒå¥—ï¼Œæ­£æ˜¯ç”¨ RxJava æ‰€èƒ½è§£å†³ã€é¿å…çš„è¿™æ ·å†™ï¼Œæˆ‘ä»¬å°±åˆå›åˆ°äº†æœ€åˆçš„åŸç‚¹ã€‚</li>
</ol>
</li>
<li>æ€ä¹ˆå–æ¶ˆç½‘ç»œè¯·æ±‚ï¼Ÿä¸å–æ¶ˆï¼Œæ„å‘³ç€å†…å­˜æ³„éœ²çš„é£é™©ã€‚</li>
</ol>
<h2 id="å›åˆ°-RxJava-æœ¬èº«"><a href="#å›åˆ°-RxJava-æœ¬èº«" class="headerlink" title="å›åˆ° RxJava æœ¬èº«"></a>å›åˆ° RxJava æœ¬èº«</h2><p>RxJava æä¾›ç»™æˆ‘ä»¬çš„ã€æˆ‘ä»¬æ‰€ä¸­æ„çš„å¼ºå¤§ä¹‹å¤„åœ¨å“ªï¼Ÿåœ¨äºå®ƒçš„ã€Œæ“ä½œç¬¦ã€ï¼Œ<code>map</code>ã€<code>flatMap</code>ã€<code>zip</code> ç­‰ç­‰ï¼Œç”šè‡³çº¿ç¨‹çš„åˆ‡æ¢ <code>subscribeOn</code>ã€<code>observeOn</code> ä¹Ÿæ˜¯æ“ä½œç¬¦ã€‚RxJava çš„å„ç§å¼ºå¤§çš„åŠŸèƒ½å°±æ˜¯é€šè¿‡å„å¼å„æ ·çš„ã€Œæ“ä½œç¬¦ã€å®ç°çš„ã€‚</p>
<p>æ“ä½œç¬¦æ“ä½œçš„æ˜¯ä»€ä¹ˆï¼Ÿæµã€‚æµï¼ˆ<code>Observable</code>ã€<code>Flowable</code>ï¼‰æ˜¯ RxJava çš„åŸºæœ¬å•ä½ã€‚æ‰€ä»¥ä¸€å¥—é“¾å¼è¯·æ±‚æ‹†å¼€åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š</p>
<center><br><img src="https://ae01.alicdn.com/kf/HTB1fapMbvjsK1Rjy1Xa762ispXai.png" width="380px"><br></center>

<p>æ‰€ä»¥è¯´ï¼Œç½‘ç»œè¯·æ±‚åº“å¯¹å¤–æä¾›ç½‘ç»œè¯·æ±‚çš„ç»“æœåº”è¯¥æ˜¯ä»¥ã€Œæµã€çš„å½¢å¼è¿›è¡Œæä¾›ï¼š</p>
<ul>
<li>å•ä¸ªç½‘ç»œè¯·æ±‚ï¼Œå¯¹å¤–æä¾›å•ä¸ªã€Œæµã€</li>
<li>å¤šä¸ªç½‘ç»œè¯·æ±‚ï¼Œå°†å¤šä¸ªç½‘ç»œè¯·æ±‚ç»“æœæµé€šè¿‡ã€Œæ“ä½œç¬¦ã€ç»„åˆæˆä¸€ä¸ªã€Œæµã€å¯¹å¤–æä¾›</li>
<li>æŒä¹…åŒ–ï¼šç½‘ç»œè¯·æ±‚ç»“æœæµå’ŒæŒä¹…åŒ–çš„ç¼“å­˜æµï¼Œæ€»èƒ½é€šè¿‡ã€Œæ“ä½œç¬¦ã€ç»„åˆæˆä¸€ä¸ªå¯¹å¤–æä¾›çš„ç»“æœã€Œæµã€</li>
</ul>
<h3 id="æˆ‘ä»¬éœ€è¦èƒŒå‹å—ï¼Ÿ"><a href="#æˆ‘ä»¬éœ€è¦èƒŒå‹å—ï¼Ÿ" class="headerlink" title="æˆ‘ä»¬éœ€è¦èƒŒå‹å—ï¼Ÿ"></a>æˆ‘ä»¬éœ€è¦èƒŒå‹å—ï¼Ÿ</h3><p>å½“ç”Ÿäº§è€…å¤§äºæ¶ˆè´¹è€…ï¼Œ<del>åˆ™å¸‚åœºä»·æ ¼ä¼šé™ä½ï¼Œ</del>åˆ™ä¼šäº§ç”ŸèƒŒå‹é—®é¢˜ï¼ˆBackpressureï¼‰ã€‚è§£å†³èƒŒå‹æœ‰å¾ˆå¤šç§ç­–ç•¥ï¼ŒRxJava2 ä¸­çš„ <code>Flowable</code> å¤©ç„¶æ”¯æŒèƒŒå‹ã€‚æ‰€ä»¥ <code>Flowable</code> è¿™ä¸ªä¸‡é‡‘æ²¹ï¼Œä¸ç®¡ä¸‰ä¸ƒäºŒåä¸€ï¼Œç›´æ¥æ‹¿æ¥ç”¨æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚</p>
<p>ä½†æ˜¯ï¼Œ<strong>ç½‘ç»œè¯·æ±‚ï¼Œä¼šäº§ç”ŸèƒŒå‹é—®é¢˜å—ï¼Ÿä¸ä¼šï¼Œä¸ºäº†é˜²æ­¢æŠ¬æ ï¼Œå¯ä»¥è¯´å¤§éƒ¨åˆ†æƒ…å†µä¸‹æ˜¯ä¸ä¼šçš„ã€‚</strong>ç½‘ç»œè¯·æ±‚çš„æ¯ä¸€ä¸ªæµï¼Œå³ç”¨å³èµ°ï¼Œä¸Šæ¸¸çš„ç”Ÿäº§è€…ï¼ˆ<code>Request</code>ï¼‰å’Œä¸‹æ¸¸çš„æ¶ˆè´¹è€…(<code>Responese</code>)ï¼Œæ°¸è¿œæ˜¯ä¸€å¯¹ä¸€çš„å…³ç³»ï¼Œä¸ä¼šå‡ºç°è¿ç»­çš„äº‹ä»¶æµã€‚æ€é¸¡ç„‰ç”¨ç‰›åˆ€ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€€ä¸€æ­¥ï¼Œæ”¹ç”¨ <code>Observable</code>ã€‚</p>
<p>ç½‘ç»œè¯·æ±‚ä¸ä¼šå‡ºç°è¿ç»­çš„äº‹ä»¶æµï¼Œåœ¨ <code>onNext</code> å‡ºç°ä¹‹åï¼Œ<code>onComplete</code> é©¬ä¸Šå°±ä¼šè¢«è°ƒç”¨ï¼Œæ‰€ä»¥åªéœ€è¦è¿™ä¸¤è€…ä¸­çš„ä¸€ä¸ªå°±å¤Ÿäº†ï¼Œä¹Ÿå°±ä¸ç”¨è€ƒè™‘ <code>Observable</code>ï¼ŒåŒæ · <code>Maybe</code> ä¹Ÿæ˜¯å¯ä»¥æ’é™¤çš„ã€‚</p>
<p>å‰©ä¸‹çš„ä¹Ÿå°±åªæœ‰ <code>Single</code> å’Œ <code>Completable</code> äº†ï¼Œç›¸å¯¹äº <code>Single</code>ï¼Œ<code>Completable</code> æ²¡æœ‰ <code>map</code> å’Œ <code>flatMap</code> æ–¹æ³•ã€‚æ‰€ä»¥éœ€è¦è¿›ä¸€æ­¥å¤„ç†ç½‘ç»œè¯·æ±‚ç»“æœçš„æˆ‘ä»¬ï¼Œå¯ä»¥é€‰æ‹©ä½¿ç”¨ <code>Single</code>ã€‚</p>
<h2 id="æŠ›å‡ºå¼‚å¸¸"><a href="#æŠ›å‡ºå¼‚å¸¸" class="headerlink" title="æŠ›å‡ºå¼‚å¸¸"></a>æŠ›å‡ºå¼‚å¸¸</h2><p>ç½‘ç»œè¯·æ±‚è¿‡ç¨‹ï¼Œåè®®å±‚çš„å¼‚å¸¸ä¼šè‡ªåŠ¨æŠ›è‡³ <code>onError()</code> ï¼Œå¦‚ 404ã€503 é”™è¯¯ã€‚å¯¹äºå¦‚ä¸‹<strong>æœ‰è¯·æ±‚ç»“æœä½†æ— ç›®æ ‡è¯·æ±‚æ•°æ®</strong>ï¼Œæˆ‘ä»¬ä¹Ÿåº”å½“ä½œä¸ºå¼‚å¸¸æ¥å¤„ç†ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"code"</span>: <span class="string">"6002"</span>,</span><br><span class="line">    <span class="attr">"msg"</span>: <span class="string">"å…¬é’¥ä¸ºç©º"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ¯•ç«Ÿè¿™æ ·çš„è¯·æ±‚ç»“æœï¼Œæ˜¯åç«¯ç»è¿‡å¼‚å¸¸å¤„ç†è¿”å›ç»™æˆ‘ä»¬çš„ã€‚</p>
<p>å‡å®šæˆ‘ä»¬çš„è¯·æ±‚ç»“æœæ˜¯è¿™æ ·çš„èŒƒå¼ï¼š</p>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="keyword">data</span> CommonResult&lt;T&gt;(</span><br><span class="line">    <span class="keyword">var</span> code: <span class="built_in">Int</span> = <span class="number">0</span>,</span><br><span class="line">    <span class="keyword">var</span> <span class="keyword">data</span>: T? = <span class="literal">null</span>,</span><br><span class="line">    <span class="keyword">var</span> message: String? = <span class="literal">null</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬æ´»ç”¨ RxJava çš„æ“ä½œç¬¦ï¼Œç”¨ <code>map</code> æ¥å¤„ç†è¯·æ±‚åˆ°çš„ <code>ResponseBody</code> (è¿™ä¹Ÿæ˜¯å‰é¢é€‰æ‹© Single çš„åŸå› )ï¼Œä¸ºäº†ä¾¿äºå¤ç”¨ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªè¿™æ ·çš„ mapper:</p>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CommonResultMapper</span>&lt;<span class="type">T</span>&gt; : <span class="type">Function</span>&lt;<span class="type">CommonResult&lt;T</span>&gt;, <span class="type">T&gt; &#123;</span></span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">apply</span><span class="params">(t: <span class="type">CommonResult</span>&lt;<span class="type">T</span>&gt;)</span></span>: T &#123;</span><br><span class="line">        <span class="keyword">val</span> <span class="keyword">data</span> = t.<span class="keyword">data</span></span><br><span class="line">        <span class="keyword">if</span> (t.code == SUCCESS_CODE &amp;&amp; <span class="keyword">data</span> != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">data</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//æŠ›å‡ºå¼‚å¸¸</span></span><br><span class="line">            <span class="keyword">throw</span> Throwable(<span class="string">"è¯·æ±‚ <span class="variable">$t</span> å¤±è´¥"</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨è¿™ä¸ªå®šä¹‰å¥½çš„ mapperï¼š</p>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="meta">@GET(PUSH_URL)</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">fetchTag</span><span class="params">(<span class="meta">@Query(<span class="meta-string">"udid"</span>)</span> udid: <span class="type">String</span>)</span></span>: Single&lt;CommonResult&lt;Tag&gt;&gt;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">fetchTagResult</span><span class="params">(udid: <span class="type">String</span>)</span></span>: Single&lt;Tag&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> netService.fetchTag(udid)</span><br><span class="line">        .subscribeOn(Schedulers.io())</span><br><span class="line">        .observeOn(AndroidSchedulers.mainThread())</span><br><span class="line">        .map(CommonResultMapper())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœä½ æ„¿æ„ï¼Œä½ è¿˜å¯ä»¥å°†<strong>çº¿ç¨‹åˆ‡æ¢</strong>å’Œ<strong>æ•°æ®å¤„ç†</strong>ç»“åˆåœ¨ä¸€èµ·ï¼Œä½¿ç”¨ RxJava çš„ <code>Transformer</code></p>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å®šä¹‰ä¸€ä¸ª transformer</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="type">&lt;T&gt;</span> <span class="title">resultTransformer</span><span class="params">()</span></span>: SingleTransformer&lt;CommonResult&lt;T&gt;, T&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> SingleTransformer &#123; single -&gt;</span><br><span class="line">        single.subscribeOn(Schedulers.io())</span><br><span class="line">                .observeOn(AndroidSchedulers.mainThread())</span><br><span class="line">                .map(CommonResultMapper())</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä½¿ç”¨</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">fetchTagResult</span><span class="params">(udid: <span class="type">String</span>)</span></span>: Single&lt;Tag&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> netService.fetchTag(udid)</span><br><span class="line">        .compose(resultTransformer())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨è¿™æ ·å°è£…ï¼Œç»“æœå½’ç»“æœï¼Œå¼‚å¸¸å½’å¼‚å¸¸ã€‚</p>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line">fetchTagResult(<span class="string">"123321"</span>)</span><br><span class="line">    .subscribeBy(</span><br><span class="line">        onSuccess = &#123; tag -&gt;</span><br><span class="line">            <span class="comment">//ç»“æœ</span></span><br><span class="line">        &#125;,</span><br><span class="line">        onError = &#123; e -&gt;</span><br><span class="line">            <span class="comment">//å¼‚å¸¸</span></span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>
<p>å›é¡¾ä¸Šå›¾ä¸­çš„<strong>å¯¹å†…å°è£…</strong>å’Œ<strong>å¯¹å¤–å¯è§</strong>ï¼Œåœ¨å¾—åˆ°çœŸæ­£æƒ³è¦çš„ç½‘ç»œè¯·æ±‚ç»“æœä¹‹å‰ï¼Œéœ€è¦ä¸€ç›´ä¿æŒ<strong>å¯¹å†…å°è£…</strong>çš„çŠ¶æ€ã€‚å› æ­¤ï¼Œå¦‚æœéœ€è¦åŒæ—¶æˆ–è€…æŒ‰é¡ºåºå‘èµ·å¤šä¸ªç½‘ç»œè¯·æ±‚ï¼Œé‚£ä¹ˆå°±åº”è¯¥åœ¨<strong>å¯¹å†…å°è£…</strong>ä¸­è¿›è¡Œæ“ä½œï¼Œä¾‹å¦‚å¯ä»¥ä½¿ç”¨ <code>flatMap</code> æŒ‰é¡ºåºå‘èµ·ç¬¬äºŒä¸ªç½‘ç»œè¯·æ±‚ï¼š</p>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">fetchUserSingle</span><span class="params">(tag: <span class="type">Tag</span>)</span></span>: Single&lt;User&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> netService.fetchUser(tag)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">fetchUserResult</span><span class="params">(udid: <span class="type">String</span>)</span></span>: Single&lt;User&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> netService.fetchTag(udid)</span><br><span class="line">        .compose(resultTransformer())</span><br><span class="line">        .flatMap&#123; tag -&gt;</span><br><span class="line">            <span class="comment">//ä½¿ç”¨ç¬¬ä¸€ä¸ªè¯·æ±‚çš„ç»“æœä½œä¸ºç¬¬äºŒä¸ªè¯·æ±‚çš„å‚æ•°</span></span><br><span class="line">            <span class="keyword">return</span><span class="symbol">@flatMap</span> fetchUserSingle(tag)</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ— è®ºå¦‚ä½•ï¼Œå–„ç”¨<strong>æ“ä½œç¬¦</strong>ï¼Œæˆ‘ä»¬çš„ä»£ç æ€»ä¼šæ˜¯ã€Œé“¾å¼ã€çš„ã€‚</p>
<h2 id="å–æ¶ˆç½‘ç»œè¯·æ±‚ä¸å†…å­˜æ³„æ¼"><a href="#å–æ¶ˆç½‘ç»œè¯·æ±‚ä¸å†…å­˜æ³„æ¼" class="headerlink" title="å–æ¶ˆç½‘ç»œè¯·æ±‚ä¸å†…å­˜æ³„æ¼"></a>å–æ¶ˆç½‘ç»œè¯·æ±‚ä¸å†…å­˜æ³„æ¼</h2><p>æœ€åè¿˜éœ€è¦å…³æ³¨ä¸€ä¸‹è¿™é‡Œçš„å†…å­˜æ³„æ¼é—®é¢˜ï¼Œåœ¨ <code>Activity</code> é”€æ¯æ—¶ï¼Œè¦åŠæ—¶å–æ¶ˆæ‰è¿™äº›å·²ç»å¤±å»ä¸Šä¸‹æ–‡æ„ä¹‰çš„ç½‘ç»œè¯·æ±‚ã€‚è¿™é‡Œæˆ‘ä»¬åŠæ—¶ <code>unsubscribe</code> å°±å¥½äº†ã€‚</p>
<p>åŒæ—¶åœ¨ç®¡ç†ç”Ÿå‘½å‘¨æœŸæ–¹é¢ï¼Œä¹Ÿæœ‰æ›´æˆç†Ÿçš„æ–¹æ¡ˆï¼š<a href="https://github.com/trello/RxLifecycle" target="_blank" rel="noopener">RxLifecycle</a>ã€‚</p>
<p>ä»¥ä¸Š</p>
<p><br><br><br></p>
<hr>
<p><strong>å…³æ³¨å…¬ä¼—å·ï¼Œäº†è§£æ›´å¤š</strong>ğŸ‘‡</p>
<p><img src="https://ws1.sinaimg.cn/large/82890cf6ly1g0svkchadyj20nw0nw40x.jpg" style="float:left;width:130px"></p>
<p><br><br><br><br><br></p>

  </div>
</article>

    <div class="blog-post-comments">
        <div id="disqus_thread">
            <noscript>Please enable JavaScript to view the comments.</noscript>
        </div>
    </div>



    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">ä¸»é¡µ</a></li>
         
          <li><a href="/archives/">åˆ—è¡¨</a></li>
         
          <li><a href="/emmm/">ç‰¢éªš</a></li>
         
          <li><a href="/about/">æˆ‘</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#è¿‡å»çš„ç»éªŒ"><span class="toc-number">1.</span> <span class="toc-text">è¿‡å»çš„ç»éªŒ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ"><span class="toc-number">1.1.</span> <span class="toc-text">æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#å›åˆ°-RxJava-æœ¬èº«"><span class="toc-number">2.</span> <span class="toc-text">å›åˆ° RxJava æœ¬èº«</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#æˆ‘ä»¬éœ€è¦èƒŒå‹å—ï¼Ÿ"><span class="toc-number">2.1.</span> <span class="toc-text">æˆ‘ä»¬éœ€è¦èƒŒå‹å—ï¼Ÿ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#æŠ›å‡ºå¼‚å¸¸"><span class="toc-number">3.</span> <span class="toc-text">æŠ›å‡ºå¼‚å¸¸</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#å–æ¶ˆç½‘ç»œè¯·æ±‚ä¸å†…å­˜æ³„æ¼"><span class="toc-number">4.</span> <span class="toc-text">å–æ¶ˆç½‘ç»œè¯·æ±‚ä¸å†…å­˜æ³„æ¼</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://qiantao94.github.io/2019/02/25/best-practice-in-rxjava-network-method/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://qiantao94.github.io/2019/02/25/best-practice-in-rxjava-network-method/&text=æˆ‘ä»¬çœ¼ä¸­ RxJava å¼çš„ç½‘ç»œè¯·æ±‚"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://qiantao94.github.io/2019/02/25/best-practice-in-rxjava-network-method/&title=æˆ‘ä»¬çœ¼ä¸­ RxJava å¼çš„ç½‘ç»œè¯·æ±‚"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://qiantao94.github.io/2019/02/25/best-practice-in-rxjava-network-method/&is_video=false&description=æˆ‘ä»¬çœ¼ä¸­ RxJava å¼çš„ç½‘ç»œè¯·æ±‚"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=æˆ‘ä»¬çœ¼ä¸­ RxJava å¼çš„ç½‘ç»œè¯·æ±‚&body=Check out this article: https://qiantao94.github.io/2019/02/25/best-practice-in-rxjava-network-method/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://qiantao94.github.io/2019/02/25/best-practice-in-rxjava-network-method/&title=æˆ‘ä»¬çœ¼ä¸­ RxJava å¼çš„ç½‘ç»œè¯·æ±‚"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://qiantao94.github.io/2019/02/25/best-practice-in-rxjava-network-method/&title=æˆ‘ä»¬çœ¼ä¸­ RxJava å¼çš„ç½‘ç»œè¯·æ±‚"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://qiantao94.github.io/2019/02/25/best-practice-in-rxjava-network-method/&title=æˆ‘ä»¬çœ¼ä¸­ RxJava å¼çš„ç½‘ç»œè¯·æ±‚"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://qiantao94.github.io/2019/02/25/best-practice-in-rxjava-network-method/&title=æˆ‘ä»¬çœ¼ä¸­ RxJava å¼çš„ç½‘ç»œè¯·æ±‚"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://qiantao94.github.io/2019/02/25/best-practice-in-rxjava-network-method/&name=æˆ‘ä»¬çœ¼ä¸­ RxJava å¼çš„ç½‘ç»œè¯·æ±‚&description=&lt;p&gt;è¯ç”Ÿ 5 å¹´ä¹‹ä¹…çš„ RxJavaï¼Œå·²ç»ä¸åªæ˜¯ä¸€ä¸ªå¼€æºåº“ï¼Œå¯ä»¥è¯´å®ƒçš„è¯ç”Ÿ&lt;strong&gt;æ”¹å˜äº†æˆ‘ä»¬å†™ä»£ç çš„æ–¹å¼&lt;/strong&gt;ï¼ŒæŠŠå®ƒæ¯”ä½œã€Œç¥å…µåˆ©å™¨ã€ä¹Ÿæ¯«ä¸ä¸ºè¿‡ã€‚"><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2019 qiantao
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">ä¸»é¡µ</a></li>
         
          <li><a href="/archives/">åˆ—è¡¨</a></li>
         
          <li><a href="/emmm/">ç‰¢éªš</a></li>
         
          <li><a href="/about/">æˆ‘</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

</body>
</html>
<!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/fontawesome-all.min.css">
<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">

<!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>
<script src="/js/main.js"></script>
<!-- search -->

<!-- Google Analytics -->

    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-120844447-1', 'auto');
        ga('send', 'pageview');
    </script>

<!-- Baidu Analytics -->

<!-- Disqus Comments -->

    <script type="text/javascript">
        var disqus_shortname = 'Salama';

        (function(){
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        }());
    </script>


